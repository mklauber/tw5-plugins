{"title":"$:/plugins/mklauber/in.js","author":"Matt Lauber","description":"In Filter Operator","list":"","plugin-priority":"1","plugin-type":"plugin","version":"1.0.0","tags":"","source":"https://github.com/mklauber/tiddly-dice","summary":"Filter operator for checking if elements are in a list","dependents":"","type":"application/json","text":"{\"tiddlers\":{\"$:/plugins/mklauber/in.js/filter.js\":{\"title\":\"$:/plugins/mklauber/in.js/filter.js\",\"created\":\"20201027201719304\",\"modified\":\"20201027203002263\",\"module-type\":\"filteroperator\",\"type\":\"application/javascript\",\"text\":\"/*\\\\\\ntitle: $:/plugins/mklauber/in.js/filter.js\\ntype: application/javascript\\nmodule-type: filteroperator\\n\\nFilter operator returning the tiddlers whose are listed in the text reference in the operand tiddler\\nSpecify a field as a suffix to compare the field on the input tiddlers to the list.\\n\\n\\\\*/\\n(function(){\\n\\n/*jslint node: true, browser: true */\\n/*global $tw: false */\\n\\\"use strict\\\";\\n\\n/*\\nExport our filter function\\n*/\\nexports.in = function(source,operator,options) {\\n\\tvar results = [],\\n\\t\\ttr = $tw.utils.parseTextReference(operator.operand),\\n\\t\\tcurrTiddlerTitle = options.widget && options.widget.getVariable(\\\"currentTiddler\\\"),\\n\\t\\tlist = options.wiki.getTiddlerList(tr.title || currTiddlerTitle,tr.field,tr.index),\\n\\t\\tfield = operator.suffix || \\\"title\\\";\\n\\n\\tsource(function(tiddler,title) {\\n\\t\\tvar value = tiddler.fields[field];\\n\\t\\tif(list.indexOf(value) !== -1) {\\n\\t\\t\\tresults.push(title);\\n\\t\\t}\\n\\t});\\n\\treturn results;\\n};\\n\\n})();\\n\"}}}"}